(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[536],{10:(e,a,t)=>{"use strict";t.d(a,{$v:()=>h,EO:()=>u,Lt:()=>i,Rx:()=>g,Zr:()=>j,ck:()=>x,r7:()=>p,tv:()=>o,wd:()=>f});var s=t(5155),r=t(2115),l=t(2278),n=t(9434),d=t(285);let i=l.bL,o=l.l9,c=l.ZL,m=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hJ,{className:(0,n.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});m.displayName=l.hJ.displayName;let u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsxs)(c,{children:[(0,s.jsx)(m,{}),(0,s.jsx)(l.UC,{ref:a,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r})]})});u.displayName=l.UC.displayName;let f=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};f.displayName="AlertDialogHeader";let x=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};x.displayName="AlertDialogFooter";let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hE,{ref:a,className:(0,n.cn)("text-lg font-semibold",t),...r})});p.displayName=l.hE.displayName;let h=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.VY,{ref:a,className:(0,n.cn)("text-sm text-muted-foreground",t),...r})});h.displayName=l.VY.displayName;let g=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.rc,{ref:a,className:(0,n.cn)((0,d.r)(),t),...r})});g.displayName=l.rc.displayName;let j=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.ZD,{ref:a,className:(0,n.cn)((0,d.r)({variant:"outline"}),"mt-2 sm:mt-0",t),...r})});j.displayName=l.ZD.displayName},356:(e,a,t)=>{"use strict";t.d(a,{C:()=>o,z:()=>i});var s=t(5155),r=t(2115),l=t(4059),n=t(154),d=t(9434);let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.bL,{className:(0,d.cn)("grid gap-2",t),...r,ref:a})});i.displayName=l.bL.displayName;let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.q7,{ref:a,className:(0,d.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:(0,s.jsx)(l.C1,{className:"flex items-center justify-center",children:(0,s.jsx)(n.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=l.q7.displayName},1091:(e,a,t)=>{"use strict";t.d(a,{A7:()=>x,FN:()=>u,Oj:()=>h,Q8:()=>p,Wk:()=>f});var s=t(5155),r=t(2115),l=t(5005),n=t(2543),d=t(9968),i=t(9434),o=t(285);let c=r.createContext(null);function m(){let e=r.useContext(c);if(!e)throw Error("useCarousel must be used within a <Carousel />");return e}let u=r.forwardRef((e,a)=>{let{orientation:t="horizontal",opts:n,setApi:d,plugins:o,className:m,children:u,...f}=e,[x,p]=(0,l.A)({...n,axis:"horizontal"===t?"x":"y"},o),[h,g]=r.useState(!1),[j,N]=r.useState(!1),v=r.useCallback(e=>{e&&(g(e.canScrollPrev()),N(e.canScrollNext()))},[]),y=r.useCallback(()=>{null==p||p.scrollPrev()},[p]),b=r.useCallback(()=>{null==p||p.scrollNext()},[p]),w=r.useCallback(e=>{"ArrowLeft"===e.key?(e.preventDefault(),y()):"ArrowRight"===e.key&&(e.preventDefault(),b())},[y,b]);return r.useEffect(()=>{p&&d&&d(p)},[p,d]),r.useEffect(()=>{if(p)return v(p),p.on("reInit",v),p.on("select",v),()=>{null==p||p.off("select",v)}},[p,v]),(0,s.jsx)(c.Provider,{value:{carouselRef:x,api:p,opts:n,orientation:t||((null==n?void 0:n.axis)==="y"?"vertical":"horizontal"),scrollPrev:y,scrollNext:b,canScrollPrev:h,canScrollNext:j},children:(0,s.jsx)("div",{ref:a,onKeyDownCapture:w,className:(0,i.cn)("relative",m),role:"region","aria-roledescription":"carousel",...f,children:u})})});u.displayName="Carousel";let f=r.forwardRef((e,a)=>{let{className:t,...r}=e,{carouselRef:l,orientation:n}=m();return(0,s.jsx)("div",{ref:l,className:"overflow-hidden",children:(0,s.jsx)("div",{ref:a,className:(0,i.cn)("flex","horizontal"===n?"-ml-4":"-mt-4 flex-col",t),...r})})});f.displayName="CarouselContent";let x=r.forwardRef((e,a)=>{let{className:t,...r}=e,{orientation:l}=m();return(0,s.jsx)("div",{ref:a,role:"group","aria-roledescription":"slide",className:(0,i.cn)("min-w-0 shrink-0 grow-0 basis-full","horizontal"===l?"pl-4":"pt-4",t),...r})});x.displayName="CarouselItem";let p=r.forwardRef((e,a)=>{let{className:t,variant:r="outline",size:l="icon",...d}=e,{orientation:c,scrollPrev:u,canScrollPrev:f}=m();return(0,s.jsxs)(o.$,{ref:a,variant:r,size:l,className:(0,i.cn)("absolute  h-8 w-8 rounded-full","horizontal"===c?"-left-4 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!f,onClick:u,...d,children:[(0,s.jsx)(n.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});p.displayName="CarouselPrevious";let h=r.forwardRef((e,a)=>{let{className:t,variant:r="outline",size:l="icon",...n}=e,{orientation:c,scrollNext:u,canScrollNext:f}=m();return(0,s.jsxs)(o.$,{ref:a,variant:r,size:l,className:(0,i.cn)("absolute h-8 w-8 rounded-full","horizontal"===c?"-right-4 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",t),disabled:!f,onClick:u,...n,children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Next slide"})]})});h.displayName="CarouselNext"},2523:(e,a,t)=>{"use strict";t.d(a,{p:()=>n});var s=t(5155),r=t(2115),l=t(9434);let n=r.forwardRef((e,a)=>{let{className:t,type:r,...n}=e;return(0,s.jsx)("input",{type:r,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...n})});n.displayName="Input"},4838:(e,a,t)=>{"use strict";t.d(a,{SQ:()=>u,_2:()=>f,lp:()=>x,mB:()=>p,rI:()=>c,ty:()=>m});var s=t(5155),r=t(2115),l=t(6215),n=t(3158),d=t(518),i=t(154),o=t(9434);let c=l.bL,m=l.l9;l.YJ,l.ZL,l.Pb,l.z6,r.forwardRef((e,a)=>{let{className:t,inset:r,children:d,...i}=e;return(0,s.jsxs)(l.ZP,{ref:a,className:(0,o.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...i,children:[d,(0,s.jsx)(n.A,{className:"ml-auto"})]})}).displayName=l.ZP.displayName,r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.G5,{ref:a,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...r})}).displayName=l.G5.displayName;let u=r.forwardRef((e,a)=>{let{className:t,sideOffset:r=4,...n}=e;return(0,s.jsx)(l.ZL,{children:(0,s.jsx)(l.UC,{ref:a,sideOffset:r,className:(0,o.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});u.displayName=l.UC.displayName;let f=r.forwardRef((e,a)=>{let{className:t,inset:r,...n}=e;return(0,s.jsx)(l.q7,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",t),...n})});f.displayName=l.q7.displayName,r.forwardRef((e,a)=>{let{className:t,children:r,checked:n,...i}=e;return(0,s.jsxs)(l.H_,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:n,...i,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(d.A,{className:"h-4 w-4"})})}),r]})}).displayName=l.H_.displayName,r.forwardRef((e,a)=>{let{className:t,children:r,...n}=e;return(0,s.jsxs)(l.hN,{ref:a,className:(0,o.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(l.VF,{children:(0,s.jsx)(i.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=l.hN.displayName;let x=r.forwardRef((e,a)=>{let{className:t,inset:r,...n}=e;return(0,s.jsx)(l.JU,{ref:a,className:(0,o.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",t),...n})});x.displayName=l.JU.displayName;let p=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.wv,{ref:a,className:(0,o.cn)("-mx-1 my-1 h-px bg-muted",t),...r})});p.displayName=l.wv.displayName},4880:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>ey});var s=t(5155),r=t(6874),l=t.n(r),n=t(285),d=t(6695),i=t(8350),o=t(7223),c=t(3896),m=t(8271),u=t(1920),f=t(1721),x=t(4301),p=t(10),h=t(4838),g=t(2115),j=t(5821),N=t(5318),v=t(9434);let y=j.bL,b=j.l9,w=j.ZL;j.bm;let C=g.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.hJ,{ref:a,className:(0,v.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r})});C.displayName=j.hJ.displayName;let k=g.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(w,{children:[(0,s.jsx)(C,{}),(0,s.jsxs)(j.UC,{ref:a,className:(0,v.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...l,children:[r,(0,s.jsxs)(j.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,s.jsx)(N.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});k.displayName=j.UC.displayName;let D=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,v.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...t})};D.displayName="DialogHeader";let A=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,v.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};A.displayName="DialogFooter";let S=g.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.hE,{ref:a,className:(0,v.cn)("text-lg font-semibold leading-none tracking-tight",t),...r})});S.displayName=j.hE.displayName;let R=g.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(j.VY,{ref:a,className:(0,v.cn)("text-sm text-muted-foreground",t),...r})});R.displayName=j.VY.displayName;var T=t(2523),E=t(5057),z=t(356);function I(e){let{children:a,onLeagueCreate:t}=e,[r,l]=(0,g.useState)(!1),[i,o]=(0,g.useState)(""),[c,m]=(0,g.useState)("12"),[u,f]=(0,g.useState)("ppr"),x=Array.from({length:9},(e,a)=>(a+2)*2);return(0,s.jsxs)(y,{open:r,onOpenChange:l,children:[(0,s.jsx)(b,{asChild:!0,children:a}),(0,s.jsxs)(k,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(D,{children:[(0,s.jsx)(S,{children:"Create New League"}),(0,s.jsx)(R,{children:"You will be the league manager. This can be changed later."})]}),(0,s.jsxs)("div",{className:"grid gap-6 py-4",children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(E.J,{htmlFor:"league-name",children:"LEAGUE NAME"}),(0,s.jsx)(T.p,{id:"league-name",placeholder:"My Awesome League",value:i,onChange:e=>o(e.target.value)})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(E.J,{children:"LEAGUE SIZE"}),(0,s.jsx)(z.z,{defaultValue:c,onValueChange:m,className:"grid grid-cols-5 gap-2",children:x.map(e=>(0,s.jsxs)("div",{children:[(0,s.jsx)(z.C,{value:String(e),id:"size-".concat(e),className:"sr-only"}),(0,s.jsx)(E.J,{htmlFor:"size-".concat(e),className:(0,v.cn)("flex items-center justify-center rounded-md border-2 border-muted bg-popover p-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground cursor-pointer",c===String(e)?"border-primary":""),children:e})]},e))})]}),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)(E.J,{children:"SCORING TYPE"}),(0,s.jsxs)(z.z,{defaultValue:u,onValueChange:f,className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(z.C,{value:"ppr",id:"ppr",className:"sr-only"}),(0,s.jsx)(E.J,{htmlFor:"ppr",children:(0,s.jsxs)(d.Zp,{className:(0,v.cn)("p-4 cursor-pointer hover:border-primary","ppr"===u&&"border-primary"),children:[(0,s.jsx)("div",{className:"font-semibold",children:"STANDARD - PPR"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Get extra points for catches by receivers."})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(z.C,{value:"no-ppr",id:"no-ppr",className:"sr-only"}),(0,s.jsx)(E.J,{htmlFor:"no-ppr",children:(0,s.jsxs)(d.Zp,{className:(0,v.cn)("p-4 cursor-pointer hover:border-primary","no-ppr"===u&&"border-primary"),children:[(0,s.jsx)("div",{className:"font-semibold",children:"No PPR"}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"Don't get extra points for catches."})]})})]})]})]})]}),(0,s.jsx)(A,{children:(0,s.jsx)(n.$,{onClick:()=>{t({name:i,size:c,scoring:u}),l(!1)},disabled:!i,children:"Create League"})})]})]})}function J(e){let{children:a,onLeagueJoin:t}=e,[r,l]=(0,g.useState)(!1),[d,i]=(0,g.useState)("");return(0,s.jsxs)(y,{open:r,onOpenChange:l,children:[(0,s.jsx)(b,{asChild:!0,onClick:e=>e.preventDefault(),children:a}),(0,s.jsxs)(k,{className:"sm:max-w-[425px]",children:[(0,s.jsxs)(D,{children:[(0,s.jsx)(S,{children:"Join a League"}),(0,s.jsx)(R,{children:"Enter the invite code from the league manager to join."})]}),(0,s.jsx)("div",{className:"grid gap-4 py-4",children:(0,s.jsxs)("div",{className:"grid items-center gap-4",children:[(0,s.jsx)(E.J,{htmlFor:"invite-code",className:"text-left",children:"Invite Code"}),(0,s.jsx)(T.p,{id:"invite-code",value:d,onChange:e=>i(e.target.value),className:"col-span-3 uppercase",placeholder:"JOIN-XXXXXX"})]})}),(0,s.jsxs)(A,{children:[(0,s.jsx)(n.$,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),(0,s.jsx)(n.$,{onClick:()=>{t(d.toUpperCase()),l(!1)},disabled:!d||d.length<6,children:"Join League"})]})]})]})}var L=t(3013),_=t(8382),P=t(5599),O=t(6318),F=t(3125),M=t(9637),U=t(7390),Z=t(7481);function $(e){let{open:a,onOpenChange:t,leagueName:r,inviteCode:l}=e,{toast:d}=(0,Z.dj)(),i=l?"".concat(window.location.origin,"/join?code=").concat(l):"No invite code available",o=e=>{navigator.clipboard.writeText(e),d({title:"Copied to clipboard!"})};return(0,s.jsx)(_.cj,{open:a,onOpenChange:t,children:(0,s.jsxs)(_.h,{side:"bottom",children:[(0,s.jsxs)(_.Fm,{children:[(0,s.jsxs)(_.qp,{children:["Invite friends to ",r]}),(0,s.jsx)(_.Qs,{children:"Share the invite code or link with anyone you want to join your league."})]}),(0,s.jsxs)("div",{className:"py-4 flex flex-col gap-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"invite-code",children:"Invite Code"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(T.p,{id:"invite-code",value:null!=l?l:"N/A",readOnly:!0}),(0,s.jsx)(n.$,{variant:"secondary",onClick:()=>o(null!=l?l:""),disabled:!l,children:(0,s.jsx)(P.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsx)(E.J,{htmlFor:"invite-link",children:"Invite Link"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(T.p,{id:"invite-link",value:i,readOnly:!0}),(0,s.jsx)(n.$,{variant:"secondary",onClick:()=>o(i),disabled:!l,children:(0,s.jsx)(O.A,{className:"h-4 w-4"})})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 pt-2",children:[(0,s.jsx)(n.$,{variant:"secondary",asChild:!0,size:"lg",children:(0,s.jsxs)("a",{href:"sms:?&body=Join my fantasy league, ".concat(r,", on Legends Weekly with code: ").concat(l),children:[(0,s.jsx)(F.A,{className:"mr-2 h-4 w-4"}),"Text"]})}),(0,s.jsx)(n.$,{variant:"secondary",asChild:!0,size:"lg",children:(0,s.jsxs)("a",{href:"mailto:?subject=Join my fantasy league: ".concat(r,"&body=Join my fantasy league on Legends Weekly! Use the invite code: ").concat(l," or click the link: ").concat(i),children:[(0,s.jsx)(M.A,{className:"mr-2 h-4 w-4"}),"Email"]})}),(0,s.jsxs)(n.$,{variant:"secondary",onClick:()=>{navigator.share&&l?navigator.share({title:"Join my ".concat(r," league!"),text:"Join my fantasy league on Legends Weekly using the code: ".concat(l),url:i}).catch(console.error):d({variant:"destructive",title:"Not Supported",description:"Your browser does not support the Web Share API, or there is no invite code."})},size:"lg",disabled:!l,children:[(0,s.jsx)(U.A,{className:"mr-2 h-4 w-4"}),"More"]})]})]})]})})}var V=t(965),G=t(3158),Y=t(3900);function W(e){let{className:a,classNames:t,showOutsideDays:r=!0,...l}=e;return(0,s.jsx)(Y.hv,{showOutsideDays:r,className:(0,v.cn)("p-3",a),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:(0,v.cn)((0,n.r)({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:(0,v.cn)((0,n.r)({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:e=>{let{className:a,...t}=e;return(0,s.jsx)(V.A,{className:(0,v.cn)("h-4 w-4",a),...t})},IconRight:e=>{let{className:a,...t}=e;return(0,s.jsx)(G.A,{className:(0,v.cn)("h-4 w-4",a),...t})}},...l})}W.displayName="Calendar";var q=t(8176);let B=q.bL,H=q.l9,X=g.forwardRef((e,a)=>{let{className:t,align:r="center",sideOffset:l=4,...n}=e;return(0,s.jsx)(q.ZL,{children:(0,s.jsx)(q.UC,{ref:a,align:r,sideOffset:l,className:(0,v.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})})});X.displayName=q.UC.displayName;var Q=t(3433),K=t(9556),ee=t(7381),ea=t(518);let et=Q.bL;Q.YJ;let es=Q.WT,er=g.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(Q.l9,{ref:a,className:(0,v.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...l,children:[r,(0,s.jsx)(Q.In,{asChild:!0,children:(0,s.jsx)(K.A,{className:"h-4 w-4 opacity-50"})})]})});er.displayName=Q.l9.displayName;let el=g.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(Q.PP,{ref:a,className:(0,v.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(ee.A,{className:"h-4 w-4"})})});el.displayName=Q.PP.displayName;let en=g.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(Q.wn,{ref:a,className:(0,v.cn)("flex cursor-default items-center justify-center py-1",t),...r,children:(0,s.jsx)(K.A,{className:"h-4 w-4"})})});en.displayName=Q.wn.displayName;let ed=g.forwardRef((e,a)=>{let{className:t,children:r,position:l="popper",...n}=e;return(0,s.jsx)(Q.ZL,{children:(0,s.jsxs)(Q.UC,{ref:a,className:(0,v.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:l,...n,children:[(0,s.jsx)(el,{}),(0,s.jsx)(Q.LM,{className:(0,v.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,s.jsx)(en,{})]})})});ed.displayName=Q.UC.displayName,g.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(Q.JU,{ref:a,className:(0,v.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...r})}).displayName=Q.JU.displayName;let ei=g.forwardRef((e,a)=>{let{className:t,children:r,...l}=e;return(0,s.jsxs)(Q.q7,{ref:a,className:(0,v.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...l,children:[(0,s.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,s.jsx)(Q.VF,{children:(0,s.jsx)(ea.A,{className:"h-4 w-4"})})}),(0,s.jsx)(Q.p4,{children:r})]})});function eo(e){let{open:a,onOpenChange:t,leagueName:r,onSave:l}=e,[i,o]=(0,g.useState)("snake"),[c,m]=(0,g.useState)(new Date),[f,x]=(0,g.useState)("20:00"),[p,h]=(0,g.useState)("random"),j=Array.from({length:48},(e,a)=>{let t=Math.floor(a/2);return"".concat(t.toString().padStart(2,"0"),":").concat((a%2*30).toString().padStart(2,"0"))});return(0,s.jsx)(_.cj,{open:a,onOpenChange:t,children:(0,s.jsxs)(_.h,{className:"w-full sm:max-w-lg",children:[(0,s.jsxs)(_.Fm,{children:[(0,s.jsx)(_.qp,{children:"Draft Setting"}),(0,s.jsxs)(_.Qs,{children:["Schedule Your Draft for the ",(0,s.jsx)("span",{className:"font-semibold text-foreground",children:r})," league."]})]}),(0,s.jsxs)("div",{className:"py-6 grid gap-8",children:[(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(E.J,{className:"text-base font-semibold",children:"DRAFT TYPE"}),(0,s.jsxs)(z.z,{value:i,onValueChange:o,className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[(0,s.jsxs)(E.J,{htmlFor:"snake",className:"cursor-pointer",children:[(0,s.jsx)(z.C,{value:"snake",id:"snake",className:"sr-only"}),(0,s.jsxs)(d.Zp,{className:(0,v.cn)("p-4","snake"===i&&"border-primary ring-2 ring-primary"),children:[(0,s.jsx)("div",{className:"font-bold",children:"Snake"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Teams make picks and then order reverses."})]})]}),(0,s.jsxs)(E.J,{htmlFor:"salary-cap",className:"cursor-pointer",children:[(0,s.jsx)(z.C,{value:"salary-cap",id:"salary-cap",className:"sr-only"}),(0,s.jsxs)(d.Zp,{className:(0,v.cn)("p-4","salary-cap"===i&&"border-primary ring-2 ring-primary"),children:[(0,s.jsx)("div",{className:"font-bold",children:"Salary Cap"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Teams begin with a set budget and take turns nominating players."})]})]}),(0,s.jsxs)(E.J,{htmlFor:"autopick",className:"cursor-pointer",children:[(0,s.jsx)(z.C,{value:"autopick",id:"autopick",className:"sr-only"}),(0,s.jsxs)(d.Zp,{className:(0,v.cn)("p-4","autopick"===i&&"border-primary ring-2 ring-primary"),children:[(0,s.jsx)("div",{className:"font-bold",children:"Autopick"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Each team is selected automatically based on pre-draft rankings."})]})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(E.J,{className:"text-base font-semibold",children:"DRAFT DATE AND TIME"}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)(B,{children:[(0,s.jsx)(H,{asChild:!0,children:(0,s.jsxs)(n.$,{variant:"outline",className:(0,v.cn)("justify-start text-left font-normal",!c&&"text-muted-foreground"),children:[(0,s.jsx)(u.A,{className:"mr-2 h-4 w-4"}),c?(0,L.GP)(c,"PPP"):(0,s.jsx)("span",{children:"Pick a date"})]})}),(0,s.jsx)(X,{className:"w-auto p-0",children:(0,s.jsx)(W,{mode:"single",selected:c,onSelect:m,initialFocus:!0})})]}),(0,s.jsxs)(et,{value:f,onValueChange:x,children:[(0,s.jsx)(er,{children:(0,s.jsx)(es,{placeholder:"Select time"})}),(0,s.jsx)(ed,{children:j.map(e=>(0,s.jsx)(ei,{value:e,children:(0,L.GP)(new Date("1970-01-01T".concat(e)),"h:mm a")},e))})]})]})]}),(0,s.jsxs)("div",{className:"grid gap-3",children:[(0,s.jsx)(E.J,{className:"text-base font-semibold",children:"DRAFT ORDER"}),(0,s.jsxs)(z.z,{value:p,onValueChange:h,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,s.jsxs)(E.J,{htmlFor:"random",className:"cursor-pointer",children:[(0,s.jsx)(z.C,{value:"random",id:"random",className:"sr-only"}),(0,s.jsxs)(d.Zp,{className:(0,v.cn)("p-4","random"===p&&"border-primary ring-2 ring-primary"),children:[(0,s.jsx)("div",{className:"font-bold",children:"Random (recommended)"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Enter the draft an hour before it begins to view the order."})]})]}),(0,s.jsxs)(E.J,{htmlFor:"manual",className:"cursor-pointer",children:[(0,s.jsx)(z.C,{value:"manual",id:"manual",className:"sr-only"}),(0,s.jsxs)(d.Zp,{className:(0,v.cn)("p-4","manual"===p&&"border-primary ring-2 ring-primary"),children:[(0,s.jsx)("div",{className:"font-bold",children:"Manual"}),(0,s.jsx)("p",{className:"text-xs text-muted-foreground",children:"Customize your draft order."})]})]})]})]})]}),(0,s.jsxs)(_.XW,{children:[(0,s.jsx)(_.kN,{asChild:!0,children:(0,s.jsx)(n.$,{variant:"outline",children:"Cancel"})}),(0,s.jsx)(n.$,{onClick:()=>{if(c){let[e,a]=f.split(":").map(Number),t=new Date(c);t.setHours(e,a),l(t)}t(!1)},children:"Save"})]})]})})}ei.displayName=Q.q7.displayName,g.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(Q.wv,{ref:a,className:(0,v.cn)("-mx-1 my-1 h-px bg-muted",t),...r})}).displayName=Q.wv.displayName;var ec=t(6766),em=t(4944);function eu(e){var a,t;let{league:r}=e,i=(null==(a=r.teams)?void 0:a[0])||{name:"Your Team",logoUrl:"/placeholder.svg"},o=(null==(t=r.teams)?void 0:t[1])||{name:"Opponent",logoUrl:"/placeholder.svg"};if(!i||!o)return(0,s.jsx)(d.Zp,{className:"w-full",children:(0,s.jsxs)(d.aR,{children:[(0,s.jsx)(d.ZB,{className:"font-headline",children:r.name}),(0,s.jsx)(d.BT,{children:"Waiting for more teams to join."})]})});let c=(0,g.useMemo)(()=>i&&"roster"in i?i.roster.starters.reduce((e,a)=>{var t;return e+(null!=(t=null==a?void 0:a.actualPoints)?t:0)},0):0,[i]),m=(0,g.useMemo)(()=>o&&"roster"in o?o.roster.starters.reduce((e,a)=>{var t;return e+(null!=(t=null==a?void 0:a.actualPoints)?t:0)},0):0,[o]),[u,f]=(0,g.useState)(c),[x,p]=(0,g.useState)(m);(0,g.useEffect)(()=>{{let e=setInterval(()=>{f(e=>e+2*Math.random()),p(e=>e+2*Math.random())},3e4);return()=>clearInterval(e)}},[]);let h="roster"in i?i.roster.starters.reduce((e,a)=>{var t;return e+(null!=(t=null==a?void 0:a.projectedPoints)?t:0)},0):0,j="roster"in o?o.roster.starters.reduce((e,a)=>{var t;return e+(null!=(t=null==a?void 0:a.projectedPoints)?t:0)},0):0,N=(0,g.useMemo)(()=>{let e=u+x;if(0===e){let e=h+j;return 0===e?50:h/e*100}return u/e*100},[u,x,h,j]);return(0,s.jsxs)(d.Zp,{className:"w-full",children:[(0,s.jsxs)(d.aR,{children:[(0,s.jsx)("div",{className:"flex justify-between items-start",children:(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ZB,{className:"font-headline",children:r.name}),(0,s.jsx)(d.BT,{children:"Week 1"})]})}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)(ec.default,{src:i.logoUrl,alt:i.name,width:40,height:40,className:"rounded-lg"}),(0,s.jsx)("div",{className:"text-3xl font-bold",children:u.toFixed(2)})]}),(0,s.jsx)("div",{className:"text-muted-foreground text-xl",children:"vs"}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsx)("div",{className:"text-3xl font-bold",children:x.toFixed(2)}),(0,s.jsx)(ec.default,{src:o.logoUrl,alt:o.name,width:40,height:40,className:"rounded-lg"})]})]})]}),(0,s.jsx)(d.Wu,{children:(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"space-y-2",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center text-sm mb-1",children:[(0,s.jsxs)("span",{className:"font-semibold text-primary",children:[N.toFixed(1),"%"]}),(0,s.jsx)("span",{className:"text-xs font-medium text-muted-foreground",children:"Win Probability"}),(0,s.jsxs)("span",{className:"font-semibold text-primary",children:[(100-N).toFixed(1),"%"]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-1",children:[(0,s.jsx)(em.k,{value:N,className:"h-2 w-full"}),(0,s.jsx)(em.k,{value:100-N,className:"h-2 w-full rotate-180"})]})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center pt-2",children:[(0,s.jsxs)("div",{className:"text-sm",children:[(0,s.jsx)("div",{className:"font-semibold",children:i.name}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground",children:"owner"in i?"".concat(i.owner," (").concat(i.record,")"):"Your Team"})]}),(0,s.jsxs)("div",{className:"text-sm text-right",children:[(0,s.jsx)("div",{className:"font-semibold",children:o.name}),(0,s.jsx)("div",{className:"text-xs text-muted-foreground text-right",children:"owner"in o?"".concat(o.owner," (").concat(o.record,")"):"Opponent"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 pt-2",children:[(0,s.jsx)(n.$,{className:"flex-1",asChild:!0,children:(0,s.jsx)(l(),{href:"/league/".concat(r.id,"/team"),children:"My Team"})}),(0,s.jsx)(n.$,{variant:"secondary",className:"flex-1",asChild:!0,children:(0,s.jsx)(l(),{href:"/league/".concat(r.id,"/matchup"),children:"Matchup"})})]})]})})]})}var ef=t(1091),ex=t(973),ep=t(5317),eh=t(2969),eg=t(3310),ej=t(610);let eN={starters:Array(9).fill(null),bench:[],ir:[]};function ev(e){let{league:a,user:t,onInvite:r,onSchedule:x,onDelete:j}=e,N=(0,g.useContext)(eh.l),v=(null==N?void 0:N.teams)||[],y=(0,g.useMemo)(()=>v.filter(e=>e.leagueId===a.id),[v,a.id]).filter(e=>e.managerId).length,b=a.totalTeams-y,w=(0,g.useMemo)(()=>{if(!a.draftDate)return"Draft not yet scheduled";try{let e=a.draftDate.toDate?a.draftDate.toDate():new Date(a.draftDate);return"Draft scheduled for ".concat((0,L.GP)(e,"EEE, MMM d @ h:mm a"))}catch(e){return"Invalid draft date"}},[a.draftDate]),C=b<=0,k=a.draftDate&&C,D=k?l():"div",A=k?{href:"/league/".concat(a.id,"/draft"),className:"block rounded-lg border bg-card text-card-foreground shadow-sm hover:bg-muted/50 transition-colors h-full"}:{className:"rounded-lg border bg-card text-card-foreground shadow-sm h-full"},S=t.uid===a.ownerId;return(0,s.jsx)(D,{href:"/league/".concat(a.id),...A,children:(0,s.jsxs)("div",{className:"relative h-full flex flex-col",children:[(0,s.jsx)(d.aR,{children:(0,s.jsxs)("div",{className:"flex justify-between items-start",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(d.ZB,{className:"font-headline",children:a.name}),(0,s.jsx)(d.BT,{children:w})]}),S&&(0,s.jsxs)(h.rI,{children:[(0,s.jsx)(h.ty,{asChild:!0,children:(0,s.jsx)(n.$,{variant:"ghost",size:"icon",className:"h-6 w-6 -mr-2",onClick:e=>{e.preventDefault(),e.stopPropagation()},children:(0,s.jsx)(i.A,{className:"h-4 w-4"})})}),(0,s.jsx)(h.SQ,{align:"end",children:(0,s.jsx)(p.tv,{asChild:!0,children:(0,s.jsxs)(h._2,{className:"text-destructive",onSelect:e=>{e.preventDefault(),j()},children:[(0,s.jsx)(o.A,{className:"mr-2 h-4 w-4"}),"Delete League"]})})})]})]})}),(0,s.jsx)(d.Wu,{className:"flex flex-col flex-grow",children:k?(0,s.jsx)("div",{className:"text-sm font-medium text-green-500 mt-auto",children:"League is full! Ready for draft."}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"text-sm font-medium text-muted-foreground mb-4",children:C?"League is full! Schedule the draft to begin.":"".concat(b," more league members required to draft.")}),(0,s.jsxs)("div",{className:"flex flex-col gap-2 mt-auto",children:[(0,s.jsxs)(n.$,{onClick:e=>{e.stopPropagation(),r()},children:[(0,s.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Invite Members"]}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,s.jsxs)(n.$,{variant:"secondary",onClick:e=>{e.stopPropagation(),x()},children:[a.draftDate?(0,s.jsx)(m.A,{className:"h-4 w-4 mr-2"}):(0,s.jsx)(u.A,{className:"h-4 w-4 mr-2"}),a.draftDate?"Draft Settings":"Schedule Draft"]}),(0,s.jsx)(n.$,{variant:"secondary",asChild:!0,children:(0,s.jsxs)(l(),{href:"/league/".concat(a.id,"/team"),onClick:e=>e.stopPropagation(),children:[(0,s.jsx)(f.A,{className:"h-4 w-4 mr-2"}),"My Team"]})})]})]})]})})]})})}function ey(){var e,a,t,r;let l=(0,ex.jt)(),{user:d}=(0,ex.Jd)(),{leagues:i,isLoading:o}=(0,g.useContext)(eh.l),{toast:c}=(0,Z.dj)(),m=(0,g.useMemo)(()=>d&&i?i.filter(e=>{var a;return e.ownerId===d.uid||(null==(a=e.teams)?void 0:a.some(e=>e.managerId===d.uid))}):[],[i,d]),[u,f]=(0,g.useState)(!1),[j,N]=(0,g.useState)(!1),[v,y]=(0,g.useState)(null),[b,w]=(0,g.useState)(null),C=e=>"JOIN-".concat(e.substring(0,6).toUpperCase()),k=async e=>{if(!l||!d)return;let a=(0,ep.H9)((0,ep.rJ)(l,"leagues")),t=C(a.id);try{let s=(0,ep.wP)(l);s.set(a,{name:e.name,totalTeams:parseInt(e.size,10),ownerId:d.uid,createdAt:(0,ep.O5)(),draftDate:null,inviteCode:t});let r=parseInt(e.size,10);for(let e=0;e<r;e++){let t=(0,ep.H9)(l,"leagues/".concat(a.id,"/teams"),"t".concat(e+1)),r=0===e,n={leagueId:a.id,managerId:r?d.uid:null,name:r?"".concat(d.displayName||"Manager","'s Team"):"Team ".concat(e+1),owner:r?d.displayName:null,logoUrl:"https://picsum.photos/seed/logo-".concat(a.id,"-").concat(e,"/64/64"),record:"0-0",roster:eN};s.set(t,n)}await s.commit(),c({title:"Success!",description:"".concat(e.name," has been created.")})}catch(a){eg.d.emit("permission-error",new ej.$({path:"/leagues",operation:"create",requestResourceData:{note:"Attempted to create league, ".concat(e.size," teams, and 3 legendary cards.")}}))}},D=async e=>{if(!l||!d)return void c({variant:"destructive",title:"Error",description:"You must be logged in to join a league."});try{await (0,ep.c4)(l,async a=>{let t=(0,ep.rJ)(l,"leagues"),s=(0,ep.P)(t,(0,ep._M)("inviteCode","==",e),(0,ep.AB)(1)),r=await (0,ep.GG)(s);if(r.empty)throw Error("Invalid invite code. Please check the code and try again.");let n=r.docs[0],i=n.data(),o=(0,ep.rJ)(l,"leagues",n.id,"teams"),c=await (0,ep.GG)(o);if(c.docs.map(e=>({...e.data(),id:e.id})).some(e=>e.managerId===d.uid))throw Error('You are already in the "'.concat(i.name,'" league.'));let m=c.docs.find(e=>!e.data().managerId);if(!m)throw Error("This league is already full.");let u=(0,ep.H9)(l,"users",d.uid),f=await a.get(u);f.exists();let x=f.data(),p=(null==x?void 0:x.displayName)||"New Manager";a.update(m.ref,{managerId:d.uid,owner:p,name:"".concat(p,"'s Team"),logoUrl:"https://picsum.photos/seed/logo-".concat(n.id,"-").concat(m.id,"/64/64")})}),c({title:"Success!",description:"You have successfully joined the league."})}catch(a){c({variant:"destructive",title:"Failed to join league",description:a.message||"An unexpected error occurred."}),"Error"!==a.name&&eg.d.emit("permission-error",new ej.$({path:"/leagues",operation:"update",requestResourceData:{note:"Attempted to join league with code ".concat(e)}}))}},A=e=>{y(e),f(!0)},S=e=>{y(e),N(!0)},R=e=>{w(e)},T=async()=>{if(!b||!l)return;let e=b.id,a=(0,ep.H9)(l,"leagues",e);try{let t=(0,ep.rJ)(l,"leagues",e,"teams"),s=await (0,ep.GG)(t),r=(0,ep.wP)(l);s.forEach(e=>{r.delete(e.ref)}),await r.commit(),await (0,ep.kd)(a)}catch(e){eg.d.emit("permission-error",new ej.$({path:a.path,operation:"delete",requestResourceData:{note:"Attempted to delete league and all its teams."}}))}finally{w(null)}},E=(0,g.useMemo)(()=>new Date().getTime(),[]),z=null!=(e=null==m?void 0:m.filter(e=>{if(!e.draftDate)return!1;let a=e.draftDate.toDate?e.draftDate.toDate().getTime():new Date(e.draftDate).getTime();return a>0&&a<E}))?e:[],L=null!=(a=null==m?void 0:m.filter(e=>{if(!e.draftDate)return!0;let a=e.draftDate.toDate?e.draftDate.toDate().getTime():new Date(e.draftDate).getTime();return!(a>0&&a<E)}))?a:[];return o||!d?(0,s.jsx)("div",{children:"Loading leagues..."}):(0,s.jsx)("div",{className:"bg-background",children:(0,s.jsxs)(p.Lt,{open:!!b,onOpenChange:e=>!e&&w(null),children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,s.jsx)("h1",{className:"text-lg font-semibold md:text-2xl font-headline",children:"My Leagues"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(J,{onLeagueJoin:D,children:(0,s.jsx)(n.$,{size:"sm",variant:"outline",children:"Join League"})}),(0,s.jsxs)(h.rI,{children:[(0,s.jsx)(h.ty,{asChild:!0,children:(0,s.jsxs)(n.$,{size:"sm",children:[(0,s.jsx)(x.A,{className:"h-4 w-4 mr-2"}),"Create League"]})}),(0,s.jsxs)(h.SQ,{align:"end",className:"w-56",children:[(0,s.jsx)(I,{onLeagueCreate:k,children:(0,s.jsx)(h._2,{onSelect:e=>e.preventDefault(),children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-medium",children:"CREATE NEW LEAGUE"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Start your own league and invite friends"})]})})}),(0,s.jsx)(h._2,{children:(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("span",{className:"font-medium",children:"JOIN PUBLIC LEAGUE"}),(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:"Compete in an existing league with other fans"})]})})]})]})]})]}),z.length>0&&(0,s.jsxs)(ef.FN,{opts:{align:"start"},className:"w-full",children:[(0,s.jsx)(ef.Wk,{children:z.map(e=>(0,s.jsx)(ef.A7,{className:"md:basis-1/2 lg:basis-1/3",children:(0,s.jsx)(eu,{league:e})},e.id))}),(0,s.jsx)(ef.Q8,{className:"hidden md:flex"}),(0,s.jsx)(ef.Oj,{className:"hidden md:flex"})]}),L.length>0&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("h2",{className:"text-base font-semibold md:text-xl font-headline mt-8 mb-4",children:"Pre-Draft Leagues"}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:L.map(e=>(0,s.jsx)(ev,{league:e,user:d,onInvite:()=>A(e),onSchedule:()=>S(e),onDelete:()=>R(e)},e.id))})]}),(0,s.jsx)($,{open:u,onOpenChange:f,leagueName:null!=(t=null==v?void 0:v.name)?t:"",inviteCode:null==v?void 0:v.inviteCode}),(0,s.jsx)(eo,{open:j,onOpenChange:N,leagueName:null!=(r=null==v?void 0:v.name)?r:"",onSave:e=>{if(!v||!l)return;let a=(0,ep.H9)(l,"leagues",v.id),t={draftDate:e};(0,ep.BN)(a,t,{merge:!0}).catch(e=>{eg.d.emit("permission-error",new ej.$({path:a.path,operation:"update",requestResourceData:t}))})}}),(0,s.jsxs)(p.EO,{children:[(0,s.jsxs)(p.wd,{children:[(0,s.jsx)(p.r7,{children:"Are you absolutely sure?"}),(0,s.jsxs)(p.$v,{children:["This action cannot be undone. This will permanently delete the",(0,s.jsxs)("span",{className:"font-semibold text-foreground",children:[" ",null==b?void 0:b.name," "]}),"league and all of its data."]})]}),(0,s.jsxs)(p.ck,{children:[(0,s.jsx)(p.Zr,{children:"Cancel"}),(0,s.jsx)(p.Rx,{onClick:T,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})]})})}},4944:(e,a,t)=>{"use strict";t.d(a,{k:()=>d});var s=t(5155),r=t(2115),l=t(8216),n=t(9434);let d=r.forwardRef((e,a)=>{let{className:t,value:r,...d}=e;return(0,s.jsx)(l.bL,{ref:a,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...d,children:(0,s.jsx)(l.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(r||0),"%)")}})})});d.displayName=l.bL.displayName},5057:(e,a,t)=>{"use strict";t.d(a,{J:()=>o});var s=t(5155),r=t(2115),l=t(2797),n=t(2085),d=t(9434);let i=(0,n.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.b,{ref:a,className:(0,d.cn)(i(),t),...r})});o.displayName=l.b.displayName},6695:(e,a,t)=>{"use strict";t.d(a,{BT:()=>o,Wu:()=>c,ZB:()=>i,Zp:()=>n,aR:()=>d});var s=t(5155),r=t(2115),l=t(9434);let n=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...r})});n.displayName="Card";let d=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...r})});d.displayName="CardHeader";let i=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...r})});i.displayName="CardTitle";let o=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("text-sm text-muted-foreground",t),...r})});o.displayName="CardDescription";let c=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("p-6 pt-0",t),...r})});c.displayName="CardContent",r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)("div",{ref:a,className:(0,l.cn)("flex items-center p-6 pt-0",t),...r})}).displayName="CardFooter"},7266:(e,a,t)=>{Promise.resolve().then(t.bind(t,4880))},7481:(e,a,t)=>{"use strict";t.d(a,{dj:()=>u});var s=t(2115);let r=0,l=new Map,n=e=>{if(l.has(e))return;let a=setTimeout(()=>{l.delete(e),c({type:"REMOVE_TOAST",toastId:e})},1e6);l.set(e,a)},d=(e,a)=>{switch(a.type){case"ADD_TOAST":return{...e,toasts:[a.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===a.toast.id?{...e,...a.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=a;return t?n(t):e.toasts.forEach(e=>{n(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===a.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==a.toastId)}}},i=[],o={toasts:[]};function c(e){o=d(o,e),i.forEach(e=>{e(o)})}function m(e){let{...a}=e,t=(r=(r+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...a,id:t,open:!0,onOpenChange:e=>{e||s()}}}),{id:t,dismiss:s,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function u(){let[e,a]=s.useState(o);return s.useEffect(()=>(i.push(a),()=>{let e=i.indexOf(a);e>-1&&i.splice(e,1)}),[e]),{...e,toast:m,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},8382:(e,a,t)=>{"use strict";t.d(a,{Fm:()=>p,Qs:()=>j,XW:()=>h,cj:()=>o,h:()=>x,kN:()=>c,qp:()=>g});var s=t(5155),r=t(2115),l=t(5821),n=t(2085),d=t(5318),i=t(9434);let o=l.bL;l.l9;let c=l.bm,m=l.ZL,u=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hJ,{className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...r,ref:a})});u.displayName=l.hJ.displayName;let f=(0,n.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),x=r.forwardRef((e,a)=>{let{side:t="right",className:r,children:n,...o}=e;return(0,s.jsxs)(m,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(l.UC,{ref:a,className:(0,i.cn)(f({side:t}),r),...o,children:[n,(0,s.jsxs)(l.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,s.jsx)(d.A,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=l.UC.displayName;let p=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...t})};p.displayName="SheetHeader";let h=e=>{let{className:a,...t}=e;return(0,s.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...t})};h.displayName="SheetFooter";let g=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.hE,{ref:a,className:(0,i.cn)("text-lg font-semibold text-foreground",t),...r})});g.displayName=l.hE.displayName;let j=r.forwardRef((e,a)=>{let{className:t,...r}=e;return(0,s.jsx)(l.VY,{ref:a,className:(0,i.cn)("text-sm text-muted-foreground",t),...r})});j.displayName=l.VY.displayName}},e=>{var a=a=>e(e.s=a);e.O(0,[992,811,799,31,544,683,651,941,874,919,72,278,5,412,293,909,441,684,358],()=>a(7266)),_N_E=e.O()}]);